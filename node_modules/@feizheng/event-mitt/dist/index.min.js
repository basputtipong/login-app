!function(e,n){"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?module.exports=n():e.EventMitt=n()}(this,function(){return{on:function(e,n){var t=this,i=this._events=this._events||{};return(i[e]=i[e]||[]).push(n),{destroy:function(){t.off(e,n)}}},off:function(e,n){var t=this._events=this._events||{};if(e in t!=!1){var i=t[e],o=i.slice(0);if(n)for(var s=0;s<o.length;s++)o[s]===n&&i.splice(s,1);else i.length=0}},emit:function(s,f){function e(e){for(var n=(r[e]||[]).slice(),t="*"===e?[s,f]:[f],i=0;i<n.length;i++){var o=n[i];if(!1===o.apply(null,t))break;o.__once__&&h.off(s,o)}}var r=this._events=this._events||{},h=this;"*"!==s&&e(s),e("*")},one:function(e,n){var t=(this._events=this._events||{})[e];if(!t||!t.length)return this.on(e,n)},once:function(e,n){return n.__once__=!0,this.on(e,n)}}});